{"version":3,"sources":["../../src/pages/addreview/addreview.module.ts","../../src/pages/addreview/addreview.ts"],"names":[],"mappings":"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","file":"37.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {AddReview} from './addreview';\nimport {TranslateModule} from \"ng2-translate\";\nimport {Ionic2RatingModule} from \"ionic2-rating\";\n\n@NgModule({\n  declarations: [\n    AddReview,\n  ],\n  imports: [\n    IonicPageModule.forChild(AddReview),\n    TranslateModule,\n    Ionic2RatingModule\n  ],\n  exports: [\n    AddReview\n  ]\n})\nexport class AddreviewModule{}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addreview/addreview.module.ts","import { AppUtilFunctions } from './../../app/appglobal/app.utilfuns';\n// Main Components\nimport {Component} from '@angular/core';\nimport {IonicPage, NavController, NavParams, ToastController, ViewController} from 'ionic-angular';\nimport {Ionic2RatingModule} from 'ionic2-rating';\nimport {TranslateService} from 'ng2-translate';\n\n\n// Providers\nimport { UserProvider } from './../../providers/user/user';\n\n// Req Pages\n\n\n@IonicPage()\n@Component({\n    selector: 'page-addreview',\n    templateUrl: 'addreview.html',\n})\nexport class AddReview {\n    element: any;\n    closetext: any;\n    toasttext: any;\n    pageParams:any;\n    rate:any;\n    rateMsg:any;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        public translateService: TranslateService,\n        private toastCtrl: ToastController,\n        public RatingModule: Ionic2RatingModule,\n        public appUtils: AppUtilFunctions,\n        public userProvider: UserProvider,\n\n    ) {\n        console.log('*************** AddReview ******************');\n        this.pageParams = this.navParams.get('pageData');\n        console.log('pageParams in  AddReview', this.pageParams);\n    }\n\n\n\n    ionViewDidEnter() {\n        // Run After Page Already Entered\n    }\n\n    ionViewDidLoad() {\n        this.translateService.get('your-review-added')\n            .subscribe(lang => {\n                this.toasttext = lang;\n            })\n        this.translateService.get('Close')\n            .subscribe(lang => {\n                this.closetext = lang;\n            })\n\n        this.getRating();\n\n    }\n\n    dismiss(id) {\n        this.viewCtrl.dismiss(id);\n    }\n\n    getRating() {\n        let sendData = {\n            'user_id' :this.pageParams.user_id,\n            'provider_id' :this.pageParams.provider_id,\n            }    \n        this.userProvider\n        .getRating(sendData)\n        .subscribe((data)=> {\n            if (data) {\n                console.log(data);\n                this.rate    = data.rating_value;\n                this.rateMsg = data.rating_message;\n            }\n            },\n            err => {\n            if (err.error instanceof Error) {\n                console.warn('client side error', err)\n            } else {\n                console.warn('server side error', err);\n                }\n            },\n            () => {\n            }\n        \n        );\n    }\n\n    AddRating() {\n        console.log('rate will send to server',this.rate);\n        if(!this.rate){\n            this.translateService.get('old_password_required')\n            .subscribe( value => {this.appUtils.AppToast(value)})\n        }else{\n            let rateData = {\n                'user_id' :this.pageParams.user_id,\n                'provider_id' :this.pageParams.provider_id,\n                'rating_message' :this.rateMsg,\n                'question_id' :'4',\n                'rating_value' :this.rate,\n              }    \n            this.userProvider\n            .addRating(rateData)\n            .subscribe((data)=> {\n                if (data) {\n                    this.dismiss(this.pageParams.provider_id);\n                    let toast = this.toastCtrl.create({\n                        message: this.toasttext,\n                        position: \"middle\",\n                        showCloseButton: true,\n                        closeButtonText: this.closetext,\n                        duration: 3000\n                    });\n                    toast.present();\n                }\n              },\n              err => {\n                if (err.error instanceof Error) {\n                    console.warn('client side error', err)\n                } else {\n                  console.warn('server side error', err);\n                  }\n              },\n              () => {\n              }\n            \n            );\n        }\n    }\n\n    onModelChange(val) {\n        console.log('Val changed val',val);\n        console.log('Val changed user_id',this.pageParams.user_id);\n        console.log('Val changed provider_id',this.pageParams.provider_id);\n    }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/addreview/addreview.ts"],"sourceRoot":""}