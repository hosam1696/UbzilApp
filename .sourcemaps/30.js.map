{"version":3,"sources":["../../src/pages/my-balance/my-balance.module.ts","../../src/pages/my-balance/my-balance.ts"],"names":[],"mappings":"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","file":"30.js","sourcesContent":["import { TranslateModule } from 'ng2-translate/ng2-translate';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MyBalance } from './my-balance';\nimport { MomentModule } from 'angular2-moment';\n@NgModule({\n  declarations: [\n    MyBalance,\n  ],\n  imports: [\n    IonicPageModule.forChild(MyBalance),\n    TranslateModule,\n    MomentModule\n  ],\n  exports: [\n    MyBalance\n  ]\n})\nexport class SettingsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-balance/my-balance.module.ts","import { AppUtilFunctions } from './../../app/appglobal/app.utilfuns';\n// Main Components\nimport {Component} from '@angular/core';\nimport {Events, IonicPage, ModalController, NavController, NavParams} from 'ionic-angular';\n// Providers\nimport {TranslateService} from 'ng2-translate';\nimport { UserProvider } from './../../providers/user/user';\n\n@IonicPage()\n@Component({\n    selector: 'page-my-balance',\n    templateUrl: 'my-balance.html',\n})\nexport class MyBalance {\n    userBalances:any;\n    userLocal:any;\n    showLoader: boolean = true;\n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public modalctrl: ModalController,\n        public events: Events,\n        public appUtils: AppUtilFunctions,\n        public userProvider: UserProvider,\n        public translateService: TranslateService,\n\n\n    ) {\n        console.log('*************** MyBalance ******************');\n    }\n\n    ionViewDidEnter() {\n        // Run After Page Already Entered\n\n    }\n\n    ionViewDidLoad() {\n        // Run After Page Already Loaded\n        this.appUtils.storage.get('localUserInfo')\n        .then((data)=>{\n        this.userLocal = data;\n        console.log('localUserInfo in MyBalance',this.userLocal);\n            this.getUserBalances(this.userLocal.id,this.userLocal.service_type);\n        })\n\n    }\n    // TODO: Get User Balances\n    getUserBalances(id,service_type){\n        this.userProvider.getUserBalances({\"user_id\": id,\"service_type\":service_type}).subscribe((data) => {\n            if (data) {\n                console.log('user balances From server', data);\n                this.userBalances = data;\n                if(data['trial_msg']){\n                    this.translateService.get(data['trial_msg'])\n                    .subscribe(value => {this.userBalances.trial_msg = value});\n                }\n                \n            }\n            \n        }, err => {\n            if (err.error instanceof Error) {\n                console.warn('client side errror', err)\n            } else {\n                console.warn('server side error', err)\n            }\n        }, () => {\n            this.showLoader = false;\n        })\n    }\n\n    renewMembershipmodal() {\n        let BalanceHistoryModal = this.modalctrl.create('RenewMembership',{pageData:{\"id\":this.userLocal.id,\"balanceSum\":this.userBalances.balanceSum ? this.userBalances.balanceSum: 0,\"lastEndDate\":this.userBalances.lastEndDate}});\n        BalanceHistoryModal.present();\n        BalanceHistoryModal.onDidDismiss(data => {\n            console.log('onDidDismiss backed data',data);            \n            if (data) {\n                this.userBalances.lastDate = data['lastDate'];\n                this.userBalances.balanceSum = data['balanceSum'];\n                this.translateService.get(data['trial_msg'])\n                .subscribe(value => {this.userBalances.trial_msg = value});\n                this.userBalances.lastEndDate = data['lastEndDate'];\n            }\n            \n            // Saving this info to local storage after updating user profile info\n        })\n\n    }\n\n    BalanceHistorymodal() {\n        let BalanceHistoryModal = this.modalctrl.create('BalanceHistory',{pageData:{\"id\":this.userLocal.id}});\n        BalanceHistoryModal.present();\n        BalanceHistoryModal.onDidDismiss(data => {\n            // Saving this info to local storage after updating user profile info\n        })\n\n    }\n\n\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/my-balance/my-balance.ts"],"sourceRoot":""}