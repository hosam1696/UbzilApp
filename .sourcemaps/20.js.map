{"version":3,"sources":["../../src/pages/reservation/reservation.module.ts","../../src/pages/reservation/reservation.ts"],"names":[],"mappings":"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","file":"20.js","sourcesContent":["import {NgModule} from '@angular/core';\nimport {IonicPageModule} from 'ionic-angular';\nimport {Reservation} from './reservation';\nimport {TranslateModule} from \"ng2-translate\";\n\n@NgModule({\n  declarations: [\n    Reservation,\n  ],\n  imports: [\n    IonicPageModule.forChild(Reservation),\n    TranslateModule\n  ],\n  exports: [\n    Reservation\n  ]\n})\nexport class ReservationModule{}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservation/reservation.module.ts","import { AppUtilFunctions } from './../../app/appglobal/app.utilfuns';\n\n//import { Push } from '@ionic-native/push';\n// Main Components\nimport {Component} from '@angular/core';\nimport {IonicPage, ViewController, NavParams, ToastController} from 'ionic-angular';\nimport {TranslateService} from 'ng2-translate';\n\n// Providers\nimport { UserProvider } from './../../providers/user/user';\n\n// Req Pages\n\n\n@IonicPage()\n@Component({\n    selector: 'page-reservation',\n    templateUrl: 'reservation.html',\n})\nexport class Reservation {\n    closetext:any;\n    toasttext:any;\n    pageParams:any;\n    userLocal:any;\n    fourDates:any = [];\n    dayOfWeek:number;\n    bookingName:any;\n    bookingMobile:any;\n    bookingDate:any = 1;\n    bookingMessage:any;\n    showLoader: boolean = true;\n    addLoader: boolean = false;\n    \n\n    constructor(\n        //public navCtrl: NavController,\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        public translateService: TranslateService,\n        //public events: Events,\n        //public actionSheetCtrl: ActionSheetController,\n        //public modalCtrl: ModalController,\n        public toastCtrl: ToastController,\n        public appUtils: AppUtilFunctions,\n        public userProvider: UserProvider,\n    ) {\n        console.log('*************** Reservation ******************');\n        this.pageParams = this.navParams.get('pageData');\n        console.log('pageParams >>> ', this.pageParams);\n    }\n\n    ionViewDidEnter() {\n        // Run After Page Already Entered\n\n    }\n\n    ionViewDidLoad() {\n        // Run After Page Already Loaded\n\n        this.translateService.get('book-date')\n            .subscribe(lang => {\n                this.toasttext = lang;\n            })\n        this.translateService.get('Close')\n            .subscribe(lang => {\n                this.closetext = lang;\n            })\n        this.appUtils.storage.get('localUserInfo')\n        .then((data)=>{\n            this.userLocal = data;\n            this.bookingName = this.userLocal.fullname;\n            this.bookingMobile = this.userLocal.mobile;\n            this.showLoader = false;\n            console.log('localUserInfo in Reservation',this.userLocal);\n            this.getNextFourDates(this.pageParams.day);\n        })\n    }\n    getNextFourDates(workDay) {\n        switch(workDay) { \n            case \"Monday\": { \n                this.dayOfWeek = 1 \n               break; \n            } \n            case \"Tuesday\": { \n                this.dayOfWeek = 2 \n               break; \n            } \n            case \"Wednesday\": { \n                this.dayOfWeek = 3 \n               break; \n            }\n            case \"Thursday\": { \n                this.dayOfWeek = 4 \n               break; \n            }\n            case \"Friday\": { \n                this.dayOfWeek = 5 \n               break; \n            }\n            case \"Saturday\": { \n                this.dayOfWeek = 6 \n               break; \n            }\n            case \"Sunday\": { \n                this.dayOfWeek = 7 \n               break; \n            } \n            default: { \n               console.log(\"Invalid day\"); \n               break;              \n            } \n        }\n\n        let today = new Date();\n        console.log(today);\n\n        let firstDate = new Date(today.getTime());\n        firstDate.setDate(today.getDate() + (7 + this.dayOfWeek - today.getDay()) % 7);\n\n        let secondDate = new Date(firstDate.getTime());\n        secondDate.setDate(firstDate.getDate()+7);\n\n        let thirdDate = new Date(secondDate.getTime());\n        thirdDate.setDate(secondDate.getDate()+7);\n\n        let fourthDate = new Date(thirdDate.getTime());\n        fourthDate.setDate(thirdDate.getDate()+7);\n\n        this.fourDates[0] = firstDate;\n        this.fourDates[1] = secondDate;\n        this.fourDates[2] = thirdDate;\n        this.fourDates[3] = fourthDate;\n        // this.bookDate = 2017-12-30;\n        \n                \n        //this.fourDates.push(resultDate);\n        console.log(this.fourDates);\n    }\n    dismiss() {\n        this.viewCtrl.dismiss();\n    }\n    \n    BookDate() {\n        //console.log(this.pageParams.fullname, this.pageParams.mobile, this.pageParams.day,this.book_date,this.book_message);\n        if(!this.bookingName){\n            this.translateService.get('plz-enter-fullname')\n            .subscribe( value => {this.appUtils.AppToast(value)})\n        }else if(isNaN(this.bookingMobile) || !this.bookingMobile){\n            this.translateService.get('plz-true-number')\n            .subscribe( value => {this.appUtils.AppToast(value)})\n        }else if(this.bookingDate == 1){\n            this.translateService.get('plz_select_booking_date')\n            .subscribe( value => {this.appUtils.AppToast(value)})\n        }else{\n            this.addLoader = true;\n            let sentData ={\n                \"user_id\": this.userLocal.id,\n                \"provider_id\": this.pageParams.provider_id,\n                //\"verifycode\": this.userLocal.verifycode,\n                \"mobile\": this.bookingMobile,\n                \"fullname\": this.bookingName,\n                \"booking_day\":this.pageParams.day,\n                \"booking_date\":this.bookingDate,\n                \"booking_message\":this.bookingMessage,\n            };\n            console.log('data to server from Reservation', sentData);        \n            this.userProvider\n            .addUserBooking(sentData)\n            .subscribe((data)=> {\n                    if (data) {\n                        this.addLoader = false;\n                        this.viewCtrl.dismiss(data);\n                        let toast = this.toastCtrl.create({\n                            message: this.toasttext,\n                            position: \"middle\",\n                            showCloseButton: true,\n                            closeButtonText: this.closetext,\n                            duration: 3000\n                        });\n                        toast.present();\n                    }\n                },\n                err => {\n                if (err.error instanceof Error) {\n                    console.warn('client side error', err)\n                } else {\n                    console.warn('server side error', err);\n                    }\n                },\n                () => {\n                }\n            \n            );\n        }\n        \n    }\n\n\n}\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/reservation/reservation.ts"],"sourceRoot":""}