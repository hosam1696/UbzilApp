{"version":3,"sources":["../../src/pages/messages-detail/messages-detail.module.ts","../../src/pages/messages-detail/messages-detail.ts"],"names":[],"mappings":"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","file":"31.js","sourcesContent":["import { TranslateModule } from 'ng2-translate/ng2-translate';\nimport { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { MessagesDetail } from './messages-detail';\nimport { MomentModule } from 'angular2-moment';\n\n@NgModule({\n  declarations: [\n    MessagesDetail,\n  ],\n  imports: [\n    IonicPageModule.forChild(MessagesDetail),\n    TranslateModule,\n    MomentModule\n  ],\n  exports: [\n    MessagesDetail\n  ]\n})\nexport class SettingsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages-detail/messages-detail.module.ts","import { AppUtilFunctions } from './../../app/appglobal/app.utilfuns';\n\n// Main Components\nimport {Component,ViewChild} from '@angular/core';\nimport {IonicPage, NavController, ModalController, NavParams, Events, ViewController, ActionSheetController,Content} from 'ionic-angular';\nimport {TranslateService} from 'ng2-translate';\n\n// Providers\nimport { MessagesProvider } from './../../providers/messages/messages';\n\n// Req Pages\n\n\n@IonicPage()\n@Component({\n    selector: 'page-messages-detail',\n    templateUrl: 'messages-detail.html',\n})\nexport class MessagesDetail {\n    @ViewChild(Content) content: Content;\n    //@ViewChild('msgInput') msgInput: any;\n    titletext: any;\n    foldertext: any;\n    cameratext: any;\n    canceltext: any;\n    pageParams: any;\n    userLocal:any;\n    // msgList\n    msgList:any;\n    editorMsg:any;\n    conversation_id:any;\n    lastMsgId:any;\n    myInterval:any;\n    \n\n    \n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public events: Events,\n        public translateService: TranslateService,\n        public viewCtrl: ViewController,\n        public modalCtrl: ModalController,\n        public actionSheetCtrl: ActionSheetController,\n        public appUtils: AppUtilFunctions,\n        public messagesProvider: MessagesProvider,\n\n    ) {\n        //@ViewChild('myInput') myInput: ElementRef;\n        console.log('*************** MessagesDetail ******************');\n        this.pageParams = this.navParams.get('pageData');\n        console.log('pageParams >>> ', this.pageParams);\n\n    }\n\n    ionViewDidEnter() {\n        // Run After Page Already Entered\n        \n        this.myInterval = setInterval(() => { \n            console.log('interval lastMsgId seen', this.lastMsgId);\n            this.getLiveMsg();\n        }, 2000);\n    }\n\n    ionViewDidLoad() {\n        // Run After Page Already Loaded\n        this.translateService.get('Upload-Image')\n            .subscribe(lang => {\n                this.titletext = lang;\n            })\n        this.translateService.get('From-file')\n            .subscribe(lang => {\n                this.foldertext = lang;\n            })\n        this.translateService.get('From-camera')\n            .subscribe(lang => {\n                this.cameratext = lang;\n            })\n        this.translateService.get('Cancel')\n            .subscribe(lang => {\n                this.canceltext = lang;\n            })\n        this.appUtils.storage.get('localUserInfo')\n            .then(data=>{\n                this.userLocal = data;\n                console.log('localUserInfo in MessagesDetail',this.userLocal);\n                if (this.pageParams.user2 && !this.pageParams.conversation_id) {\n                    console.log('user2 come', this.pageParams.user2);\n                    this.checkIfConversation();\n                }else{\n                    console.log('conversation_id come', this.pageParams.conversation_id);\n                    this.getConversationMessages();\n                }\n                \n            });\n    }\n    \n    checkIfConversation(){\n        let sentData ={\n            \"user_id\": this.userLocal.id, \n            \"user2\": this.pageParams.user2,\n            \"order_id\": this.pageParams.order_id,\n            \"lang_code\":this.appUtils.CurrentLang,\n            \"verifycode\":this.userLocal.verifycode,\n        }\n        this.messagesProvider.checkIfConversation(sentData).subscribe((data) => {\n            console.log('checkIfConversation data From server', data); \n            if (data) {\n                this.msgList = data;\n                //console.log('this.conversation_id',  data[0].conversation_id);\n                this.conversation_id = data[0].conversation_id;\n                console.log('messages in this conversation From server', this.msgList); \n                console.log('this.conversation_id', this.conversation_id);\n\n            }else{\n                this.msgList = [];\n                this.conversation_id  = 0;\n            }\n            \n        }, err => {\n            if (err.error instanceof Error) {\n                console.warn('client side errror', err)\n            } else {\n                console.warn('server side error', err)\n            }\n        }, () => {\n            //this.showLoader = false;\n            //this.priceList  = this.userData.priceList;\n            //console.log('price list from user id', this.priceList  )\n        })\n    }\n\n    getConversationMessages(){\n        let sentData ={\n            \"user_id\": this.userLocal.id, \n            \"conversation_id\": this.pageParams.conversation_id,\n            \"lang_code\":this.appUtils.CurrentLang,\n            \"verifycode\":this.userLocal.verifycode,\n            \"lastMsgId\":this.lastMsgId,\n        }\n        this.messagesProvider.getConversationMessages(sentData).subscribe((data) => {\n            if (data) {\n                this.msgList = data;\n                console.log('messages in this conversation From server', this.msgList);\n                /* for (let i = 0; i < this.msgList.length; i++) {\n                    \n                    if (this.msgList[i]['seen_it'] == 0) {\n                        this.lastMsgId = this.msgList[i]['id'];\n                        return true;\n                    }else{\n                        this.lastMsgId = this.msgList[i]['id'];\n                    }\n                } */\n                //return false;\n                //console.log('getConversationMessages last seen id ', this.lastMsgId)\n                this.lastMsgId = this.msgList[this.msgList.length-1]['id'];                \n            }else{\n                this.msgList = [];\n                //this.lastMsgId = 0;\n            }\n            \n            //console.log('getConversationMessages last seen id ', this.lastMsgId)\n            \n        }, err => {\n            if (err.error instanceof Error) {\n                console.warn('client side errror', err)\n            } else {\n                console.warn('server side error', err)\n            }\n        }, () => {\n            //console.log('getConversationMessages last seen id ', this.lastMsgId)\n            this.conversation_id  = this.pageParams.conversation_id;\n            this.scrollToBottom();\n\n        })\n    }\n    \n    getLiveMsg(){\n        console.log('conversation id in live msg', this.conversation_id);\n        let sentData ={\n            \"user_id\": this.userLocal.id, \n            \"conversation_id\": this.pageParams.conversation_id,\n            \"lang_code\":this.appUtils.CurrentLang,\n            \"verifycode\":this.userLocal.verifycode,\n            \"lastMsgId\":this.lastMsgId,\n            \"from\":this.pageParams.user2,\n        }\n        this.messagesProvider.getLiveMessages(sentData).subscribe((data) => {\n            console.log('live msg return data', data);\n            if (data) {\n                /* let index = this.getMsgIndexById(this.lastMsgId);\n                this.msgList.splice(index); */\n                this.msgList = [...this.msgList, ...data];\n                console.log('messages in this conversation From server', this.msgList);\n                //this.lastMsgId = this.msgList[this.msgList.length-1]['id'];\n                this.conversation_id  = data[0].conversation_id;\n                this.lastMsgId = this.msgList[this.msgList.length-1]['id'];\n                /* for (let i = 0; i < this.msgList.length; i++) {\n                    \n                    if (this.msgList[i]['seen_it'] == 0) {\n                        this.lastMsgId = this.msgList[i]['id'];\n                        return true;\n                    }else{\n                        this.lastMsgId = this.msgList[i]['id'];\n                    }\n                } */\n                /* for (let i = 0;i < this.msgList.length;i++) {\n                    console.log('here in for');\n                    if(this.msgList[i].seen_it != '1'){\n                        this.msgList[i].seen_it == '1';\n                    }\n                } */\n                                \n                //this.scrollToBottom();\n            }else{\n\n                //console.log('live msg return no data');\n                //this.msgList = this.msgList;\n                //this.lastMsgId = 0;\n            }\n\n            //this.conversation_id  = this.pageParams.conversation_id;\n            \n        }, err => {\n            if (err.error instanceof Error) {\n                console.warn('client side errror', err)\n            } else {\n                console.warn('server side error', err)\n            }\n        }, () => {\n            console.log('conversation id in live msg', this.conversation_id);\n            this.scrollToBottom();\n        })\n    }\n\n    pushNewMsg() {\n        if (!this.editorMsg.trim()) return;\n        console.log('conversation_id', this.conversation_id);\n        let body = {\n            \"conversation_id\":this.conversation_id,\n            \"from\":this.userLocal.id,\n            \"to\":this.pageParams.user2,\n            \"message\":this.editorMsg,\n            \"type\":'text',\n            \"seen_it\":'0',\n            'date_added': Date.now()\n        };\n        this.msgList.push(body);\n        this.scrollToBottom();\n        this.editorMsg = '';\n        console.log('msgList after pushed', this.msgList);\n        this.sendMsgToDB(body);\n        // Mock message\n        /* const id = Date.now().toString();\n        let newMsg: ChatMessage = {\n            messageId: Date.now().toString(),\n            userId: this.user.id,\n            userName: this.user.name,\n            userAvatar: this.user.avatar,\n            toUserId: this.toUser.id,\n            time: Date.now(),\n            message: this.editorMsg,\n            status: 'pending'\n        }; */\n\n        //this.pushNewMsg(newMsg);\n        \n\n        /* this.chatService.sendMsg(newMsg)\n        .then(() => {\n            let index = this.getMsgIndexById(id);\n            if (index !== -1) {\n                this.msgList[index].status = 'success';\n            }\n        }) */\n    }\n\n    sendMsgToDB(data){\n\n        let sentData ={ ... data,\n            \"user_id\": this.userLocal.id, \n            \"order_id\": this.pageParams.order_id,\n            \"lang_code\":this.appUtils.CurrentLang,\n            \"verifycode\":this.userLocal.verifycode,\n        }\n        this.messagesProvider.addConversation(sentData).subscribe((data) => {\n            console.log('sendMsgToDB data from server', data);\n            \n            if (data) {\n                this.conversation_id = data;\n            }else{\n                \n            }\n            \n        }, err => {\n            if (err.error instanceof Error) {\n                console.warn('client side errror', err)\n            } else {\n                console.warn('server side error', err)\n            }\n        }, () => {\n        })\n    }\n\n    scrollToBottom() {\n        setTimeout(() => {\n            if (this.content.scrollToBottom) {\n                this.content.scrollToBottom();\n            }\n        }, 500)\n    }\n\n    \n    \n    /* onFocus() {\n        //this.content.resize();\n        //this.scrollToBottom();\n        console.log('on focus')\n    }\n */\n    /* watchHeight(event) {\n        console.log(this.msgInput);\n        const textArea = this.msgInput.nativeElement;\n        console.log(textArea);\n        //console.log(textArea.scrollHeight, textArea.scrollHeight);\n    \n        textArea.style.height = '12 px';\n    \n        textArea.style.height  = textArea.scrollHeight + 'px';\n    \n    } */\n    /* private getMsg() {\n        // Get mock message list\n        return this.chatService\n        .getMsgList()\n        .subscribe(res => {\n            this.msgList = res;\n            this.scrollToBottom();\n        });\n    }*/\n    /* resize() {\n        this.myInput.nativeElement.style.height = this.myInput.nativeElement.scrollHeight + 'px';\n    } */\n    \n    //setInterval(() => console.log('ali'), 500);\n    \n\n    /*pushNewMsg(msg: ChatMessage) {\n        const userId = this.user.id,\n              toUserId = this.toUser.id;\n        // Verify user relationships\n        if (msg.userId === userId && msg.toUserId === toUserId) {\n            this.msgList.push(msg);\n        } else if (msg.toUserId === userId && msg.userId === toUserId) {\n            this.msgList.push(msg);\n        }\n        this.scrollToBottom();\n    }\n    */\n    getMsgIndexById(id: string) {\n        return this.msgList.findIndex(e => e.id === id)\n    }\n    dismiss() {\n        this.viewCtrl.dismiss(this.msgList[this.msgList.length-1]);\n        // stop setinternal()     \n        clearInterval(this.myInterval);\n        \n\n\n    }\n\n    loadImage() {\n\n        let actionSheet = this.actionSheetCtrl.create({\n            title: this.titletext,\n            buttons: [\n                {\n                    icon: 'folder',\n                    text: this.foldertext,\n                    handler: () => {\n                        console.log('Destructive clicked');\n                    }\n                }, {\n                    icon: 'camera',\n                    text: this.cameratext,\n                    handler: () => {\n                        console.log('Archive clicked');\n                    }\n                }, {\n                    text: this.canceltext,\n                    role: 'cancel',\n                    handler: () => {\n                        console.log('Cancel clicked');\n                    }\n                }\n            ]\n        });\n\n        actionSheet.present();\n    }\n\n    protected navigateTo(page: string, isModal: boolean = false, pageData?: any): void {\n        if (isModal) {\n          let modal = this.modalCtrl.create(page, {pageData});\n          modal.present();\n          modal.onDidDismiss(dismissData => {\n            // Saving this info to local storage after updating user profile info\n    \n            if (page === '') {\n              // Do some interesting stuff here\n    \n            } \n    \n          })\n        } else {\n          console.log('in navigate to ', pageData)\n          this.navCtrl.push(page,{pageData})\n        }\n      }\n}\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/messages-detail/messages-detail.ts"],"sourceRoot":""}