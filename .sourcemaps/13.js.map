{"version":3,"sources":["../../src/pages/work-time/work-time.module.ts","../../src/pages/work-time/work-time.ts"],"names":[],"mappings":"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","file":"13.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { WorkTime  } from './work-time';\nimport { TranslateModule } from 'ng2-translate/ng2-translate';\n\n@NgModule({\n  declarations: [\n    WorkTime,\n  ],\n  imports: [\n    IonicPageModule.forChild(WorkTime),\n    TranslateModule\n  ],\n  exports: [\n    WorkTime\n  ]\n})\nexport class SettingsModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-time/work-time.module.ts","import { AppUtilFunctions } from './../../app/appglobal/app.utilfuns';\n// Main Components\nimport {Component} from '@angular/core';\nimport {IonicPage, NavController, ModalController, ViewController, NavParams, Events, ActionSheetController, ToastController} from 'ionic-angular';\nimport {TranslateService} from 'ng2-translate';\nimport { Console } from '@angular/core/src/console';\n\n// Req Pages\nimport { UserProvider } from './../../providers/user/user';\n\n@IonicPage()\n@Component({\n    selector: 'page-work-time',\n    templateUrl: 'work-time.html',\n})\nexport class WorkTime {\n    days: any[];\n    public x: number;\n    public y: number;\n    isDone: boolean = false;\n    \n    closetext:any;\n    toasttext:any;\n    workTimeType:number;\n    pageParams:any;\n    userLocal:any;\n    showAllworkTimeType:boolean;\n    \n    constructor(\n        public navCtrl: NavController,\n        public navParams: NavParams,\n        public viewCtrl: ViewController,\n        public events: Events,\n        public translateService: TranslateService,\n        private toastCtrl: ToastController,\n        public actionSheetCtrl: ActionSheetController,\n        public modalCtrl: ModalController,\n        public appUtils: AppUtilFunctions,\n        public userProvider: UserProvider,\n    ) {\n        console.log('*************** WorkTime ******************');\n        //this.pageParams = this.navParams.get('pageData');\n        //console.log('pageParams >>> ', this.pageParams);\n        \n        this.days = [\n            {\"id\": 0, \"work_day\": \"Saturday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n            {\"id\": 1, \"work_day\": \"Sunday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n            {\"id\": 2, \"work_day\": \"Monday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n            {\"id\": 3, \"work_day\": \"Tuesday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n            {\"id\": 4, \"work_day\": \"Wednesday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n            {\"id\": 5, \"work_day\": \"Thursday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n            {\"id\": 6, \"work_day\": \"Friday\", \"checked\": false, \"timeTable\": [{\"from\": this.x, \"to\": this.y}]},\n        ];\n        console.log('constructor days',this.days);\n    }\n\n    ionViewDidEnter() {\n        // Run After Page Already Entered\n        console.log('ionViewDidEnter');\n        \n\n    }\n\n    ionViewDidLoad() {\n        console.log('ionViewDidLoad');\n        // Run After Page Already Loaded\n        this.translateService.get('Changes-saved')\n            .subscribe(lang => {\n                this.toasttext = lang;\n            })\n        this.translateService.get('Close')\n            .subscribe(lang => {\n                this.closetext = lang;\n            })\n\n        this.appUtils.storage.get('localUserInfo')\n        .then((data)=>{\n            this.userLocal = data;\n            console.log('localUserInfo in WorkTime',this.userLocal);\n            this.getUserWorkTimeToEdit();\n        })\n    }\n\n    getUserWorkTimeToEdit(){\n        this.userProvider.getUserWorkTimeToEdit({\"user_id\": this.userLocal.id}).subscribe((data) => {\n            if (data) {\n                console.log('user work times From server', data);\n               if (data.user_work_type == 4) {\n                    this.showAllworkTimeType = false;\n                    this.workTimeType  = 4;\n\n                    for (let i = 0;i < data.work_days.length;i++) {\n                        console.log('here');\n                        for (let j = 0; j < this.days.length; j++) {\n                            if(data.work_days[i].work_day == this.days[j]['work_day']){\n                                this.days[j]['checked'] = true;\n                                this.days[j]['timeTable'] = data.work_days[i].timeTable;\n                            }\n                        }                        \n                    }\n                    console.log('edit days',this.days);\n                }else{ \n                    this.showAllworkTimeType = true;\n                    this.workTimeType  = data.user_work_type;\n                }\n                 \n            }else{\n                console.log('here');\n                \n                if (this.userLocal.service_type == '3') {\n                    this.showAllworkTimeType = true;\n                    this.workTimeType  = 1;\n                }else{ \n                    // else == 2 mean that has costums times as clincs and labs\n                    this.showAllworkTimeType = false;\n                    this.workTimeType  = 4;\n                }\n            }\n            \n        }, err => {\n            //this.loader = false;\n            if (err.error instanceof Error) {\n                console.warn('client side errror', err)\n            } else {\n                console.warn('server side error', err)\n            }\n        }, () => {\n        })\n    }\n\n    dismiss() {\n        this.viewCtrl.dismiss();\n    }\n    \n    radioChecked(){\n        console.log('workTimeType is ', this.workTimeType);\n\n    }\n    dayCheck(day) {\n        console.log(\"this day is \" + day.work_day);\n    }\n    \n\n    detectCheck(val, day) {\n        day.checked = val;\n        console.log('detectCheck',val, day);\n    }\n\n    addmore(day) {\n        console.log(\"add more button\" , day.timeTable);\n        var p = {\"from\": this.x, \"to\": this.y};\n        day.timeTable.push(p);\n    }\n    \n    remove(i, timeTable) {\n        let dayIndex = this.days.findIndex(day => day.timeTable == timeTable);\n        console.log(i, timeTable);\n        console.log('Index of the day we work on', dayIndex);\n        this.days[dayIndex].timeTable.splice(i, 1);\n    }\n\n    SaveChanges() {\n        console.log('this days in saveChanges', this.days);\n\n        let sentData ={\n            \"user_id\": this.userLocal.id,\n            \"verifycode\": this.userLocal.verifycode,\n            \"user_work_type\": this.workTimeType,\n            \"work_days\":this.days\n        };\n        console.log('last step all data to server from workTime', sentData)\n        this.userProvider\n        .addUserWorkTimes(sentData)\n        .subscribe(({ data, errors })=> {\n                if (data) {\n                    delete data.user_id;\n                    delete data.verifycode;\n                    /*delete sentData.service_cost;\n                    let applicantData = {\n                        ... sentData,\n                        \"date_added\":Date.now(),\n                        \"fullname\":this.userLocal.fullname,\n                        \"avatar\":this.userLocal.avatar,\n                        \"gender\":this.userLocal.gender,\n                        \"rater_count\":this.userLocal.rater_count,\n                        \"rating_value\":this.userLocal.rating_value,\n                    } */\n                    this.viewCtrl.dismiss(data);\n                    let toast = this.toastCtrl.create({\n                        message: this.toasttext,\n                        position: \"middle\",\n                        showCloseButton: true,\n                        closeButtonText: this.closetext,\n                        duration: 3000\n                    });\n                    toast.present();\n                }else{\n                    this.translateService.get(errors)\n                        .subscribe( value => {this.appUtils.AppToast(value)})\n                }\n            },\n            err => {\n            if (err.error instanceof Error) {\n                console.warn('client side error', err)\n            } else {\n                console.warn('server side error', err);\n                }\n            },\n            () => {\n            }\n        \n        );\n    }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/pages/work-time/work-time.ts"],"sourceRoot":""}